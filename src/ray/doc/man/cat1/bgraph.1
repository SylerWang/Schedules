BGRAPH(1)                                                            BGRAPH(1)



NNAAMMEE
       bgraph - do a set of batch graphs to a metafile

SSYYNNOOPPSSIISS
       bbggrraapphh [ --ttyyppee ....  ][ ++vvaarriiaabbllee vvaalluuee ....  ][ ffiillee ....  ]

DDEESSCCRRIIPPTTIIOONN
       _B_g_r_a_p_h  reads  each  graph  _f_i_l_e  in sequence and converts it to a plot
       suitable for use by a metafile driver program.  If no files are  given,
       the standard input is read.

       The  graph  type  can be defined with a _-_t_y_p_e option.  Types are simply
       include files which set default  values  for  certain  variables.   The
       actual include file name is the type concatanated with ".plt".  Typical
       types are "scatter", "line", and "curve".  A scatter graph  shows  only
       points.   A  line  graph  shows  only lines connecting points.  A curve
       graph shows both points and connecting lines.

       Variables can be set explicitly with _+_v_a_r_i_a_b_l_e _v_a_l_u_e options.  The fol-
       lowing standard graph variables are supported:

       fftthhiicckk    The  frame thickness, valued from 0 to 4.  A value of 0 turns
                 the frame off.

       ggrriidd      The grid: 1 is on, 0 is off.

       iinncclluuddee   The include file name.  Graph input is taken from  the  file.
                 If  the  file  is  not  found in the current directory, it is
                 searched for in a set of standard locations.

       lleeggeenndd    The legend title.

       ootthhiicckk    The origin axis thickness, valued from 0 to 4.  A value of  0
                 turns the origin off.

       ppeerriioodd    The period for a polar plot.  For a plot in degrees, use 360.
                 For radians, use 6.283.  A value of 0 (the default) indicates
                 a Cartesian plot.

       ssuubbttiittllee  The graph subtitle.

       ssyymmffiillee   The point symbol metafile.

       ttssttyyllee    The  frame tick mark style.  The default value is 1, which is
                 outward tick marks.  A value of 2 is inward ticks, 3 is cross
                 ticks.  A value of 0 disables frame tick marks.

       ttiittllee     The graph title.

       xxllaabbeell    The x axis label.

       xxmmaapp      The   x   axis   mapping   function.    An   x  axis  mapping
                 xmap(x)=log(x) produces a log x axis.

       xxmmaaxx      The x axis maximum.

       xxmmiinn      The x axis minimum.

       xxsstteepp     The x axis step.

       yyllaabbeell    The y axis label.

       yymmaapp      The  y  axis   mapping   function.    An   y   axis   mapping
                 ymap(y)=log(y) produces a log y axis.

       yymmaaxx      The y axis maximum.

       yymmiinn      The y axis minimum.

       yysstteepp     The y axis step.

       In  addition  to  the standard graph variables, each curve has a set of
       variables.  The variables for curve 'A' all begin with the letter  'A';
       the  variables  for curve 'B' all begin with the letter 'B', and so on.
       Up to 8 curves are supported on a single graph, 'A' through  'H'.   The
       variables for curve 'A' are:

       AA         The  function  for  curve  'A'.  If _A_d_a_t_a is undefined, _x_m_i_n_,
                 _x_m_a_x and _A_n_p_o_i_n_t_s are used to determine  which  x  values  to
                 plot.   If  _A_d_a_t_a  is defined and _A is a function of a single
                 variable (ie. A(x)), data values are interpreted as x  values
                 to  be  plotted.   If _A_d_a_t_a is defined and _A is a function of
                 two variables (ie. A(x,y)), data values  are  interpreted  as
                 (x,y) pairs and _A becomes a mapping function for the data.

       AAccoolloorr    The  color  for  curve  A.  The values 1-4 map to black, red,
                 green, and blue respectively.  A value of  0  turns  curve  A
                 off.

       AAddaattaa     The point data for curve 'A'.  If _A_d_a_t_a is set to the name of
                 a file, data is read and  interpreted  from  that  file.   If
                 _A_d_a_t_a  is  set  to  a command (beginning with an exclamation,
                 '!'), the output of the command is read as data.   Otherwise,
                 data  is  read  from the current file.  Data values are sepa-
                 rated by white space and/or commas.  A semicolon  or  end  of
                 file indicates the end of data.

       AAllaabbeell    The  label  for curve 'A'.  The curve label is printed in the
                 legend when a curve is defined.

       AAlliinnttyyppee  The line type for curve 'A', valued from 0 to 4.  A value  of
                 0  turns  line  drawing  off.   A  value  of 1 is solid, 2 is
                 dashed, 3 is dotted, and 4 is dot-dashed.

       AAnnppooiinnttss  The number of symbol points  for  curve  'A'.   If  _A_d_a_t_a  is
                 defined, all points will be connected with the selected curve
                 line, but only _A_n_p_o_i_n_t_s points will be indicated with a  sym-
                 bol.   This prevents messy graphs when large number of points
                 are defined.  If _A is defined and _A_d_a_t_a is not,  _A_n_p_o_i_n_t_s  is
                 used  along with _x_m_i_n and _x_m_a_x to determine which x values to
                 plot.

       AAssyymmssiizzee  The symbol radius for curve 'A'.  The default size is 100.  A
                 value of 0 turns symbols off.

       AAssyymmttyyppee  This  is  the  name of a segment in _s_y_m_f_i_l_e which defines the
                 graphics symbol for curve 'A'.

       AAtthhiicckk    The line thickness for curve 'A', valued  from  0  to  4.   A
                 thickness of 0 turns line drawing off.

GGRRAAPPHH FFIILLEE FFOORRMMAATT
       A graph file contains definitions for graph and curve variables.  These
       definitions fall one per line in the following formats:

            vreal        = expression       # real variable
            vfunction(x) = expression(x)    # function
            vstring      = "string"         # string variable
            vdata        = filename         # data file
            vdata        = "!command"       # data generator
            variable     = continued \
                    line                    # newline escaped
            vdata        =                  # data
                 v1 v2 v3 v4 ... ;

       Comments are preceded by a '#', and continue to the end  of  the  line.
       Except for comments, the newline can be escaped with a backslash.  Note
       that in the special case where data is contained in the graph  file,  a
       definition  will  continue over more than one line.  Data values can be
       separated by commas or white space, and reading continues until a semi-
       colon  is  reached.   No  comments are allowed in the data section of a
       file.

       An expression is an algebraic formula  containing  numbers,  variables,
       functions,  and  the standard operators {+,-,*,/,^,(,)} (see icalc(1)).
       Besides the variables described in the  last  section,  definitions  of
       intermediate  real variables and functions are allowed for convenience.
       They may be used in expressions of graph and curve variables.

EEXXAAMMPPLLEE
       A file to graph the sine function is:

            title = "Sine Function from 0 to Pi"
            PI = 3.141592653589793
            A(x) = sin(x)
            xmin = 0
            xmax = PI
            Anpoints = 100

       Or, to graph selected points:

            title = "Sine Function at 0, .2, .6, and .8"
            A(x) = sin(x)
            Adata =
                 0 , .2
                 .6 , .8
            ;

       The commands to plot these files might be:

            bgraph -line sine1.plt | psmeta | lpr

            bgraph -curve +ymin -1 +ymax 1 sine2.plt | x11meta


FFIILLEESS
       /usr/local/lib/meta/*.mta /usr/local/lib/meta/*.plt *.plt

AAUUTTHHOORR
       Greg Ward

BBUUGGSS
       There is no mechanism provided for undefining a variable.  An axis map-
       ping  function  which  is  not  invertible (monotonically increasing or
       decreasing) confuses the program terribly.

SSEEEE AALLSSOO
       dgraph(1), gcomp(1), icalc(1), igraph(1), metafile(5), x11meta(1)



RADIANCE                            6/24/98                          BGRAPH(1)
